!function(t){var o={speed:350,easing:"linear",padding:10,constrain:!1},i=t(window),n=[],s={init:function(i){return o=t.extend(o,i),this.each(function(){var o=t(this);f(o),n[n.length]=o,e()})},remove:function(){return this.each(function(){var o=this;t.each(n,function(t,i){return i.get(0)===o?(r(null,i),n.splice(t,1),!1):void 0})})},destroy:function(){return t.each(n,function(t,o){r(null,o)}),n=[],i.unbind("scroll",e),i.unbind("resize",r),this}},e=function(){t.each(n,function(t,n){var s=n,e=s.data("stickySB");if(e){var f=i.scrollTop()-e.offs.top,r=(s.offset(),e.orig.offset.top-e.offs.top),a=r;f>r&&(a=f>e.offs.bottom?e.offs.bottom:f+o.padding),s.stop().animate({top:a},o.speed,o.easing)}})},f=function(i){if(i){var n=i,s=n.parent(),e=s.offset(),f=n.offset(),r=n.data("stickySB");for(r||(r={offs:{},orig:{top:n.css("top"),left:n.css("left"),position:n.css("position"),marginTop:n.css("marginTop"),marginLeft:n.css("marginLeft"),offset:n.offset()}});e&&"top"in e&&"static"==s.css("position");)s=s.parent(),e=s.offset();if(e){var a=parseInt(s.css("paddingBottom"));a=isNaN(a)?0:a,r.offs=e,r.offs.bottom=o.constrain?Math.abs(s.innerHeight()-a-n.outerHeight()):t(document).height()}else r.offs={top:0,left:0,bottom:t(document).height()};n.css({position:"absolute",top:Math.floor(f.top-r.offs.top)+"px",left:Math.floor(f.left-r.offs.left)+"px",margin:0,width:n.width()}).data("stickySB",r)}},r=function(o,i){var s=n;i&&(s=[i]),t.each(s,function(t,o){var n=o.data("stickySB");n&&(o.css({position:n.orig.position,marginTop:n.orig.marginTop,marginLeft:n.orig.marginLeft,left:n.orig.left,top:n.orig.top}),i||(f(o),e()))})};i.bind("scroll",e),i.bind("resize",r),t.fn.stickySidebar=function(t){return s[t]?s[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"==typeof t?s.init.apply(this,arguments):void 0}}(jQuery);